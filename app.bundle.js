!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){},function(t,e,r){"use strict";r.r(e);r(0);class n{check(t){console.log("chaekValid");let e=0,r=!1;for(let n=t.length-1;n>=0;n--){let s=parseInt(t.charAt(n),10);r&&(s*=2)>9&&(s-=9),e+=s,r=!r}if(e%10==0)return!0}}class s{constructor(t){this.parentEl=t,this.cards=t.getElementsByTagName("span"),this.blackout=this.blackout.bind(this)}check(t){console.log("paymentcheck");const e=parseInt(t.charAt(0),10),r=parseInt(t.charAt(1),10);2===e?this.blackout("mir"):3===e?(0!==r&&6!==r&&8!==r||this.blackout("diners_club"),4!==r&&7!==r||this.blackout("amex"),1!==r&&5!==r||this.blackout("jcb")):4===e?this.blackout("visa"):5===e?this.blackout("master"):6===e&&this.blackout("discover")}blackout(t){for(let e=0;e<this.cards.length;e++){const r=this.cards[e];!1===r.classList.contains(t)&&r.classList.add("blackout")}}}document.body.innerHTML='<div id="container"></div>';const c=document.querySelector("#container");new class{constructor(t){this.parentEl=t,this.chekValid=new n,this.paymentSystemCheck=new s(this.parentEl),this.check=this.check.bind(this)}static get markup(){return'\n        <h1>Check your credit card number</h1>\n            <ul class="cards list-unstyled">\n            <li><span class="card visa" title="Visa">Visa</span></li>\n            <li><span class="card master" title="Mastercard">Mastercard</span></li>\n            <li><span class="card amex" title="American Express">American Express</span></li>\n            <li><span class="card discover" title="Discover">Discover</span></li>\n            <li><span class="card jcb" title="JCB">JCB</span></li>\n            <li><span class="card diners_club" title="Diners Club">Diners Club</span></li>\n            <li><span class="card mir" title="Mir">Mir</span></li>\n            </ul>\n            <form class="form-inline" novalidate="novalidate">\n            <div class="form">\n            <input class="form-control" type="text" placeholder="Credit card number" data-original-title="" title="">\n            <a id="submitform" class="btn btn-success">Click to Validate</a>\n            </div>\n            </form>'}static get inputSelector(){return".form-control"}static get submitSelector(){return".btn-success"}bindToDOM(){this.parentEl.innerHTML=this.constructor.markup;this.parentEl.querySelector(this.constructor.submitSelector).addEventListener("click",t=>this.check(t))}check(t){t.preventDefault(),this.parentEl.querySelectorAll(".card").forEach(t=>{t.classList.remove("blackout")}),!0===this.chekValid.check(this.parentEl.querySelector(".form-control").value)?this.paymentSystemCheck.check(this.parentEl.querySelector(".form-control").value):alert("Некорректно введён номер карты")}}(c).bindToDOM()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NoZWtWYWxpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcGF5bWVudFN5c3RlbUNoZWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9pbml0LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2hlY2tWYWxpZCIsImNoZWNrIiwiY29uc29sZSIsImxvZyIsIm51bWJlckNoZWNrIiwiYm9vbGVhbkV2ZW4iLCJsZW5ndGgiLCJudW1iZXIiLCJwYXJzZUludCIsImNoYXJBdCIsIlBheW1lbnRTeXN0ZW1DaGVjayIsImNvbnN0cnVjdG9yIiwicGFyZW50RWwiLCJ0aGlzIiwiY2FyZHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImJsYWNrb3V0IiwibnVtYmVyVHdvIiwiY2xhcyIsImVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZCIsImRvY3VtZW50IiwiYm9keSIsImlubmVySFRNTCIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJjaGVrVmFsaWQiLCJwYXltZW50U3lzdGVtQ2hlY2siLCJiaW5kVG9ET00iLCJtYXJrdXAiLCJzdWJtaXRTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwicmVtb3ZlIiwiYWxlcnQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFB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QixLQUFLZSxVQUFVM0IsTUFBTVksS0FBS0QsU0FBU2UsY0FBYyxpQkFBaUIxQyxPQUNwRTRCLEtBQUtnQixtQkFBbUI1QixNQUFNWSxLQUFLRCxTQUFTZSxjQUFjLGlCQUFpQjFDLE9BQ3BFc0QsTUFBTSxvQ0Q1Q0diLEdBQ2pCSSIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbGluZWJyZWFrLXN0eWxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGx1c3BsdXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrVmFsaWQge1xuICBjaGVjayh2YWx1ZSkge1xuICAgIGNvbnNvbGUubG9nKCdjaGFla1ZhbGlkJyk7XG4gICAgbGV0IG51bWJlckNoZWNrID0gMDtcbiAgICBsZXQgYm9vbGVhbkV2ZW4gPSBmYWxzZTtcblxuICAgIGZvciAobGV0IG4gPSB2YWx1ZS5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkge1xuICAgICAgbGV0IG51bWJlciA9IHBhcnNlSW50KHZhbHVlLmNoYXJBdChuKSwgMTApO1xuXG4gICAgICBpZiAoYm9vbGVhbkV2ZW4gJiYgKG51bWJlciAqPSAyKSA+IDkpIHtcbiAgICAgICAgbnVtYmVyIC09IDk7XG4gICAgICB9XG5cbiAgICAgIG51bWJlckNoZWNrICs9IG51bWJlcjtcbiAgICAgIGJvb2xlYW5FdmVuID0gIWJvb2xlYW5FdmVuO1xuICAgIH1cbiAgICBpZiAobnVtYmVyQ2hlY2sgJSAxMCA9PT0gMCkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBsaW5lYnJlYWstc3R5bGUgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBsdXNwbHVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50U3lzdGVtQ2hlY2sge1xuICBjb25zdHJ1Y3RvcihwYXJlbnRFbCkge1xuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcbiAgICB0aGlzLmNhcmRzID0gcGFyZW50RWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NwYW4nKTtcbiAgICB0aGlzLmJsYWNrb3V0ID0gdGhpcy5ibGFja291dC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY2hlY2sodmFsdWUpIHtcbiAgICBjb25zb2xlLmxvZygncGF5bWVudGNoZWNrJyk7XG4gICAgY29uc3QgbnVtYmVyID0gcGFyc2VJbnQodmFsdWUuY2hhckF0KDApLCAxMCk7XG4gICAgY29uc3QgbnVtYmVyVHdvID0gcGFyc2VJbnQodmFsdWUuY2hhckF0KDEpLCAxMCk7XG4gICAgaWYgKG51bWJlciA9PT0gMikge1xuICAgICAgdGhpcy5ibGFja291dCgnbWlyJyk7XG4gICAgfSBlbHNlIGlmIChudW1iZXIgPT09IDMpIHtcbiAgICAgIGlmIChudW1iZXJUd28gPT09IDAgfHwgbnVtYmVyVHdvID09PSA2IHx8IG51bWJlclR3byA9PT0gOCkge1xuICAgICAgICB0aGlzLmJsYWNrb3V0KCdkaW5lcnNfY2x1YicpO1xuICAgICAgfSBpZiAobnVtYmVyVHdvID09PSA0IHx8IG51bWJlclR3byA9PT0gNykge1xuICAgICAgICB0aGlzLmJsYWNrb3V0KCdhbWV4Jyk7XG4gICAgICB9IGlmIChudW1iZXJUd28gPT09IDEgfHwgbnVtYmVyVHdvID09PSA1KSB7XG4gICAgICAgIHRoaXMuYmxhY2tvdXQoJ2pjYicpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobnVtYmVyID09PSA0KSB7IHRoaXMuYmxhY2tvdXQoJ3Zpc2EnKTsgfSBlbHNlIGlmIChudW1iZXIgPT09IDUpIHtcbiAgICAgIHRoaXMuYmxhY2tvdXQoJ21hc3RlcicpO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyID09PSA2KSB7XG4gICAgICB0aGlzLmJsYWNrb3V0KCdkaXNjb3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIGJsYWNrb3V0KGNsYXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNhcmRzW2ldO1xuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXMpID09PSBmYWxzZSkgeyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JsYWNrb3V0Jyk7IH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGxpbmVicmVhay1zdHlsZSAqL1xuXG5pbXBvcnQgSW5pdCBmcm9tICcuL2luaXQnO1xuXG5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICc8ZGl2IGlkPVwiY29udGFpbmVyXCI+PC9kaXY+JztcbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWluZXInKTtcbmNvbnN0IGluaXQgPSBuZXcgSW5pdChjb250YWluZXIpO1xuaW5pdC5iaW5kVG9ET00oKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGxpbmVicmVhay1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tYWxlcnQgKi9cbi8qIGVzbGludC1kaXNhYmxlIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXMgKi9cblxuaW1wb3J0IENoZWNrVmFsaWQgZnJvbSAnLi9jaGVrVmFsaWQnO1xuaW1wb3J0IFBheW1lbnRTeXN0ZW1DaGVjayBmcm9tICcuL3BheW1lbnRTeXN0ZW1DaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluaXQge1xuICBjb25zdHJ1Y3RvcihwYXJlbnRFbCkge1xuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcbiAgICB0aGlzLmNoZWtWYWxpZCA9IG5ldyBDaGVja1ZhbGlkKCk7XG4gICAgdGhpcy5wYXltZW50U3lzdGVtQ2hlY2sgPSBuZXcgUGF5bWVudFN5c3RlbUNoZWNrKHRoaXMucGFyZW50RWwpO1xuICAgIHRoaXMuY2hlY2sgPSB0aGlzLmNoZWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IG1hcmt1cCgpIHtcbiAgICByZXR1cm4gYFxuICAgICAgICA8aDE+Q2hlY2sgeW91ciBjcmVkaXQgY2FyZCBudW1iZXI8L2gxPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwiY2FyZHMgbGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPVwiY2FyZCB2aXNhXCIgdGl0bGU9XCJWaXNhXCI+VmlzYTwvc3Bhbj48L2xpPlxuICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPVwiY2FyZCBtYXN0ZXJcIiB0aXRsZT1cIk1hc3RlcmNhcmRcIj5NYXN0ZXJjYXJkPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIGFtZXhcIiB0aXRsZT1cIkFtZXJpY2FuIEV4cHJlc3NcIj5BbWVyaWNhbiBFeHByZXNzPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIGRpc2NvdmVyXCIgdGl0bGU9XCJEaXNjb3ZlclwiPkRpc2NvdmVyPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIGpjYlwiIHRpdGxlPVwiSkNCXCI+SkNCPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIGRpbmVyc19jbHViXCIgdGl0bGU9XCJEaW5lcnMgQ2x1YlwiPkRpbmVycyBDbHViPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJjYXJkIG1pclwiIHRpdGxlPVwiTWlyXCI+TWlyPC9zcGFuPjwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPGZvcm0gY2xhc3M9XCJmb3JtLWlubGluZVwiIG5vdmFsaWRhdGU9XCJub3ZhbGlkYXRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybVwiPlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkNyZWRpdCBjYXJkIG51bWJlclwiIGRhdGEtb3JpZ2luYWwtdGl0bGU9XCJcIiB0aXRsZT1cIlwiPlxuICAgICAgICAgICAgPGEgaWQ9XCJzdWJtaXRmb3JtXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIj5DbGljayB0byBWYWxpZGF0ZTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlucHV0U2VsZWN0b3IoKSB7IHJldHVybiAnLmZvcm0tY29udHJvbCc7IH1cblxuICBzdGF0aWMgZ2V0IHN1Ym1pdFNlbGVjdG9yKCkgeyByZXR1cm4gJy5idG4tc3VjY2Vzcyc7IH1cblxuICBiaW5kVG9ET00oKSB7XG4gICAgdGhpcy5wYXJlbnRFbC5pbm5lckhUTUwgPSB0aGlzLmNvbnN0cnVjdG9yLm1hcmt1cDtcbiAgICBjb25zdCBzdWJtaXQgPSB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25zdHJ1Y3Rvci5zdWJtaXRTZWxlY3Rvcik7XG4gICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4gdGhpcy5jaGVjayhldnQpKTtcbiAgfVxuXG4gIGNoZWNrKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucGFyZW50RWwucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmxhY2tvdXQnKTsgfSk7XG4gICAgaWYgKHRoaXMuY2hla1ZhbGlkLmNoZWNrKHRoaXMucGFyZW50RWwucXVlcnlTZWxlY3RvcignLmZvcm0tY29udHJvbCcpLnZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5wYXltZW50U3lzdGVtQ2hlY2suY2hlY2sodGhpcy5wYXJlbnRFbC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1jb250cm9sJykudmFsdWUpO1xuICAgIH0gZWxzZSB7IGFsZXJ0KCfQndC10LrQvtGA0YDQtdC60YLQvdC+INCy0LLQtdC00ZHQvSDQvdC+0LzQtdGAINC60LDRgNGC0YsnKTsgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9